

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pytket.utils &mdash; pytket 0.5.5 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="pytket.logging" href="logging.html" />
    <link rel="prev" title="pytket.transform" href="transform.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pytket
          

          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="licence.html">LICENCE</a></li>
<li class="toctree-l1"><a class="reference internal" href="opensource.html">Open Source Attribution</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="backends.html">pytket.backends</a></li>
<li class="toctree-l1"><a class="reference internal" href="circuit.html">pytket.circuit</a></li>
<li class="toctree-l1"><a class="reference internal" href="pauli.html">pytket.pauli</a></li>
<li class="toctree-l1"><a class="reference internal" href="device.html">pytket.device</a></li>
<li class="toctree-l1"><a class="reference internal" href="passes.html">pytket.passes</a></li>
<li class="toctree-l1"><a class="reference internal" href="predicates.html">pytket.predicates</a></li>
<li class="toctree-l1"><a class="reference internal" href="program.html">pytket.program</a></li>
<li class="toctree-l1"><a class="reference internal" href="partition.html">pytket.partition</a></li>
<li class="toctree-l1"><a class="reference internal" href="qasm.html">pytket.qasm</a></li>
<li class="toctree-l1"><a class="reference internal" href="quipper.html">pytket.quipper</a></li>
<li class="toctree-l1"><a class="reference internal" href="routing.html">pytket.routing</a></li>
<li class="toctree-l1"><a class="reference internal" href="transform.html">pytket.transform</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">pytket.utils</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-pytket.utils.spam">pytket.utils.spam</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logging.html">pytket.logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="cirq.html">pytket-cirq</a></li>
<li class="toctree-l1"><a class="reference internal" href="cirq.html#module-pytket.cirq">pytket.cirq</a></li>
<li class="toctree-l1"><a class="reference internal" href="projectq.html">pytket.projectq</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyquil.html">pytket.pyquil</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyzx.html">pytket-pyzx</a></li>
<li class="toctree-l1"><a class="reference internal" href="pyzx.html#id1">pytket.pyzx</a></li>
<li class="toctree-l1"><a class="reference internal" href="qiskit.html">pytket.qiskit</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pytket</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>pytket.utils</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/utils.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pytket.utils">
<span id="pytket-utils"></span><h1>pytket.utils<a class="headerlink" href="#module-pytket.utils" title="Permalink to this headline">¶</a></h1>
<p>Utility functions for performing high-level procedures in pytket</p>
<dl class="py function">
<dt id="pytket.utils.expectation_from_shots">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">expectation_from_shots</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shot_table</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><a class="headerlink" href="#pytket.utils.expectation_from_shots" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of a circuit from its shots.
Computes the parity of ‘1’s across all bits to determine a +1 or -1 contribution from each row, and returns the average.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shot_table</strong> (<em>np.ndarray</em>) – The table of shots to interpret.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The expectation value in the range [-1, 1].</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.expectation_from_counts">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">expectation_from_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], int]</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><a class="headerlink" href="#pytket.utils.expectation_from_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of a circuit from shot counts.
Computes the parity of ‘1’s across all bits to determine a +1 or -1 contribution from each readout, and returns the weighted average.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>counts</strong> (<em>Dict</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>..</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – Counts of each measurement outcome observed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The expectation value in the range [-1, 1].</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.get_pauli_expectation_value">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">get_pauli_expectation_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state_circuit</span><span class="p">:</span> <span class="n">pytket._tket.circuit.Circuit</span></em>, <em class="sig-param"><span class="n">pauli</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pauli.html#pytket._tket.pauli.QubitPauliString" title="pytket._tket.pauli.QubitPauliString">pytket._tket.pauli.QubitPauliString</a></span></em>, <em class="sig-param"><span class="n">backend</span><span class="p">:</span> <span class="n">Backend</span></em>, <em class="sig-param"><span class="n">n_shots</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.8)">complex</a><a class="headerlink" href="#pytket.utils.get_pauli_expectation_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of the given circuit with respect to the Pauli term by preparing measurements in the appropriate basis, running on the backend and interpreting the counts/statevector</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_circuit</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – Circuit that generates the desired state <span class="math notranslate nohighlight">\(\left|\psi\right&gt;\)</span>.</p></li>
<li><p><strong>pauli</strong> (<a class="reference internal" href="pauli.html#pytket._tket.pauli.QubitPauliString" title="pytket._tket.pauli.QubitPauliString"><em>QubitPauliString</em></a>) – Pauli operator</p></li>
<li><p><strong>backend</strong> (<a class="reference internal" href="backends.html#pytket.backends.Backend" title="pytket.backends.Backend"><em>Backend</em></a>) – pytket backend to run circuit on.</p></li>
<li><p><strong>n_shots</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – Number of shots to run if backend supports shots/counts. Set to None to calculate using statevector if supported by the backend. Defaults to None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\(\left&lt;\psi | P | \psi \right&gt;\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.get_operator_expectation_value">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">get_operator_expectation_value</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state_circuit</span><span class="p">:</span> <span class="n">pytket._tket.circuit.Circuit</span></em>, <em class="sig-param"><span class="n">operator</span><span class="p">:</span> <span class="n">pytket.utils.operators.QubitPauliOperator</span></em>, <em class="sig-param"><span class="n">backend</span><span class="p">:</span> <span class="n">Backend</span></em>, <em class="sig-param"><span class="n">n_shots</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">partition_strat</span><span class="p">:</span> <span class="n">Optional<span class="p">[</span><a class="reference internal" href="partition.html#pytket._tket.partition.PauliPartitionStrat" title="pytket._tket.partition.PauliPartitionStrat">pytket._tket.partition.PauliPartitionStrat</a><span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em>, <em class="sig-param"><span class="n">colour_method</span><span class="p">:</span> <span class="n"><a class="reference internal" href="partition.html#pytket._tket.partition.GraphColourMethod" title="pytket._tket.partition.GraphColourMethod">pytket._tket.partition.GraphColourMethod</a></span> <span class="o">=</span> <span class="default_value">GraphColourMethod.LargestFirst</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Union[int, float, None]</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.8)">complex</a><a class="headerlink" href="#pytket.utils.get_operator_expectation_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the expectation value of the given circuit with respect to the operator based on its individual Pauli terms.
If the QubitPauliOperator has symbolic values the expectation value will also be symbolic.
The input circuit must belong to the default qubit register and have contiguous qubit ordering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state_circuit</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – Circuit that generates the desired state <span class="math notranslate nohighlight">\(\left|\psi\right&gt;\)</span></p></li>
<li><p><strong>operator</strong> (<a class="reference internal" href="#pytket.utils.QubitPauliOperator" title="pytket.utils.QubitPauliOperator"><em>QubitPauliOperator</em></a>) – Operator <span class="math notranslate nohighlight">\(H\)</span>.</p></li>
<li><p><strong>backend</strong> (<a class="reference internal" href="backends.html#pytket.backends.Backend" title="pytket.backends.Backend"><em>Backend</em></a>) – pytket backend to run circuit on.</p></li>
<li><p><strong>n_shots</strong> (<em>Optional</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em><em>, </em><em>optional</em>) – Number of shots to run if backend supports shots/counts. None will force the backend to give the full state if available. Defaults to None</p></li>
<li><p><strong>partition_strat</strong> (<em>Optional</em><em>[</em><a class="reference internal" href="partition.html#pytket._tket.partition.PauliPartitionStrat" title="pytket._tket.partition.PauliPartitionStrat"><em>PauliPartitionStrat</em></a><em>]</em><em>, </em><em>optional</em>) – If retrieving shots, can perform measurement reduction using a chosen strategy</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><span class="math notranslate nohighlight">\(\left&lt;\psi | H | \psi \right&gt;\)</span></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#complex" title="(in Python v3.8)">complex</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.append_pauli_measurement">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">append_pauli_measurement</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pauli_string</span><span class="p">:</span> <span class="n"><a class="reference internal" href="pauli.html#pytket._tket.pauli.QubitPauliString" title="pytket._tket.pauli.QubitPauliString">pytket._tket.pauli.QubitPauliString</a></span></em>, <em class="sig-param"><span class="n">circ</span><span class="p">:</span> <span class="n">pytket._tket.circuit.Circuit</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.8)">None</a><a class="headerlink" href="#pytket.utils.append_pauli_measurement" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends measurement instructions to a given circuit, measuring each qubit in a given basis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pauli_string</strong> (<a class="reference internal" href="pauli.html#pytket._tket.pauli.QubitPauliString" title="pytket._tket.pauli.QubitPauliString"><em>QubitPauliString</em></a>) – The pauli string to measure</p></li>
<li><p><strong>circ</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – Circuit to add measurement to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.counts_from_shot_table">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">counts_from_shot_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">shot_table</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], int]<a class="headerlink" href="#pytket.utils.counts_from_shot_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarises a shot table into a dictionary of counts for each observed outcome.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>shot_table</strong> (<em>np.ndarray</em>) – Table of shots from a pytket backend.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary mapping observed readouts to the number of times observed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[Tuple[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a>, ..], <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.probs_from_counts">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">probs_from_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], int]</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], float]<a class="headerlink" href="#pytket.utils.probs_from_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts raw counts of observed outcomes into the observed probability distribution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>counts</strong> (<em>Dict</em><em>[</em><em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>..</em><em>]</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – Dictionary mapping observed readouts to the number of times observed.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Probability distribution over observed readouts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[Tuple[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a>, ..], <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.probs_from_state">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">probs_from_state</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em><span class="sig-paren">)</span> &#x2192; Dict<span class="p">[</span>pytket.utils.outcomearray.OutcomeArray<span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a><span class="p">]</span><a class="headerlink" href="#pytket.utils.probs_from_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts statevector to the probability distribution over readouts in the
computational basis. Ignores probabilities lower than 1e-10.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>state</strong> (<em>np.ndarray</em>) – Full statevector with big-endian encoding.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Probability distribution over readouts.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Dict[<a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a>, <a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.permute_qubits_in_statevector">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">permute_qubits_in_statevector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">state</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">permutation</span><span class="p">:</span> <span class="n">Tuple[int, …]</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.permute_qubits_in_statevector" title="Permalink to this definition">¶</a></dt>
<dd><p>Rearranges a statevector according to a permutation of the qubit indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>np.ndarray</em>) – Original statevector.</p></li>
<li><p><strong>permutation</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>..</em><em>]</em>) – Map from current qubit index (big-endian) to its new position, encoded as a list.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated statevector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.permute_basis_indexing">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">permute_basis_indexing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">matrix</span><span class="p">:</span> <span class="n">numpy.ndarray</span></em>, <em class="sig-param"><span class="n">permutation</span><span class="p">:</span> <span class="n">Tuple[int, …]</span></em><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.permute_basis_indexing" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Rearranges the first dimensions of an array (statevector or unitary)</dt><dd><p>according to a permutation of the bit indices in the binary representation
of row indices.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>matrix</strong> (<em>np.ndarray</em>) – Original unitary matrix</p></li>
<li><p><strong>permutation</strong> (<em>Tuple</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>, </em><em>..</em><em>]</em>) – Map from current qubit index (big-endian) to its new position, encoded as a list</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Updated unitary matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pytket.utils.gen_term_sequence_circuit">
<code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">gen_term_sequence_circuit</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">operator</span><span class="p">:</span> <span class="n">pytket.utils.operators.QubitPauliOperator</span></em>, <em class="sig-param"><span class="n">reference_state</span><span class="p">:</span> <span class="n">pytket._tket.circuit.Circuit</span></em>, <em class="sig-param"><span class="n">partition_strat</span><span class="p">:</span> <span class="n"><a class="reference internal" href="partition.html#pytket._tket.partition.PauliPartitionStrat" title="pytket._tket.partition.PauliPartitionStrat">pytket._tket.partition.PauliPartitionStrat</a></span> <span class="o">=</span> <span class="default_value">PauliPartitionStrat.CommutingSets</span></em>, <em class="sig-param"><span class="n">colour_method</span><span class="p">:</span> <span class="n"><a class="reference internal" href="partition.html#pytket._tket.partition.GraphColourMethod" title="pytket._tket.partition.GraphColourMethod">pytket._tket.partition.GraphColourMethod</a></span> <span class="o">=</span> <span class="default_value">GraphColourMethod.Lazy</span></em><span class="sig-paren">)</span> &#x2192; pytket._tket.circuit.Circuit<a class="headerlink" href="#pytket.utils.gen_term_sequence_circuit" title="Permalink to this definition">¶</a></dt>
<dd><p>Sequences QubitPauliOperator terms to generate a circuit made of CircBoxes.
Each CircBox contains a sequence of PauliExpBox objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Circuit</span></code></p>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>operator</strong> (<a class="reference internal" href="#pytket.utils.QubitPauliOperator" title="pytket.utils.QubitPauliOperator"><em>QubitPauliOperator</em></a>) – The operator terms to sequence</p></li>
<li><p><strong>reference_state</strong> (<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit"><em>Circuit</em></a>) – reference state to add sequenced terms to.</p></li>
<li><p><strong>partition_strat</strong> (<a class="reference internal" href="partition.html#pytket._tket.partition.PauliPartitionStrat" title="pytket._tket.partition.PauliPartitionStrat"><em>PauliPartitionStrat</em></a><em>, </em><em>optional</em>) – a Partition strategy</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="pytket.utils.OutcomeArray">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">OutcomeArray</code><a class="headerlink" href="#pytket.utils.OutcomeArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of measured outcomes from qubits. Derived class of <cite>numpy.ndarray</cite>.</p>
<p>Bitwise outcomes are compressed into unsigned 8-bit integers, each
representing up to 8 qubit measurements. Each row is a repeat measurement.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>width</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of bit entries stored, less than or equal to the bit
capacity of the array.</p></li>
<li><p><strong>n_outcomes</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a>) – Number of outcomes stored.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="pytket.utils.OutcomeArray.choose_indices">
<code class="sig-name descname">choose_indices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span><span class="p">:</span> <span class="n">List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; pytket.utils.outcomearray.OutcomeArray<a class="headerlink" href="#pytket.utils.OutcomeArray.choose_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Permute ordering of bits in outcomes or choose subset of bits.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>New array corresponding to given permutation.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.counts">
<code class="sig-name descname">counts</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Counter<span class="p">[</span>pytket.utils.outcomearray.OutcomeArray<span class="p">]</span><a class="headerlink" href="#pytket.utils.OutcomeArray.counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate counts of outcomes in OutcomeArray</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – Empty array invalid.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Counter of outcome, number of instances</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Counter[<a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.from_ints">
<em class="property">classmethod </em><code class="sig-name descname">from_ints</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ints</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">width</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a></span></em>, <em class="sig-param"><span class="n">big_endian</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; pytket.utils.outcomearray.OutcomeArray<a class="headerlink" href="#pytket.utils.OutcomeArray.from_ints" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Create OutcomeArray from iterator of integers corresponding to outcomes</dt><dd><p>where the bitwise representation of the integer corresponds to the readouts.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ints</strong> (<em>Iterable</em><em>[</em><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)"><em>int</em></a><em>]</em>) – Iterable of outcome integers</p></li>
<li><p><strong>big_endian</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to use big endian encoding (or little endian
if False), defaults to True</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>OutcomeArray instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pytket.utils.OutcomeArray" title="pytket.utils.OutcomeArray">OutcomeArray</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.from_readouts">
<em class="property">classmethod </em><code class="sig-name descname">from_readouts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">readouts</span><span class="p">:</span> <span class="n">Sequence<span class="p">[</span>Sequence<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; pytket.utils.outcomearray.OutcomeArray<a class="headerlink" href="#pytket.utils.OutcomeArray.from_readouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Create OutcomeArray from a 2D array like object of read-out integers,
e.g. [[1, 1, 0], [0, 1, 1]]</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.to_intlist">
<code class="sig-name descname">to_intlist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">big_endian</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">True</span></em><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span><a class="headerlink" href="#pytket.utils.OutcomeArray.to_intlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Express each outcome as an integer corresponding to the bit values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>big_endian</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – whether to use big endian encoding (or little endian
if False), defaults to True</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of integers, each corresponding to an outcome.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.to_readouts">
<code class="sig-name descname">to_readouts</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; numpy.ndarray<a class="headerlink" href="#pytket.utils.OutcomeArray.to_readouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert OutcomeArray to a 2D array of readouts, each row a separate outcome
and each column a bit value.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.n_outcomes">
<em class="property">property </em><code class="sig-name descname">n_outcomes</code><a class="headerlink" href="#pytket.utils.OutcomeArray.n_outcomes" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of outcomes stored.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.OutcomeArray.width">
<em class="property">property </em><code class="sig-name descname">width</code><a class="headerlink" href="#pytket.utils.OutcomeArray.width" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of bit entries stored, less than or equal to the bit capacity of the array.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pytket.utils.QubitPauliOperator">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">QubitPauliOperator</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span><a class="reference internal" href="pauli.html#pytket._tket.pauli.QubitPauliString" title="pytket._tket.pauli.QubitPauliString">pytket._tket.pauli.QubitPauliString</a><span class="p">, </span>sympy.core.expr.Expr<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.QubitPauliOperator" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic data structure for generation of ansätze and expectation value calculation.
Contains a dictionary from QubitPauliString to sympy Expr.</p>
<dl class="py method">
<dt id="pytket.utils.QubitPauliOperator.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictionary</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span><a class="reference internal" href="pauli.html#pytket._tket.pauli.QubitPauliString" title="pytket._tket.pauli.QubitPauliString">pytket._tket.pauli.QubitPauliString</a><span class="p">, </span>sympy.core.expr.Expr<span class="p">]</span></span> <span class="o">=</span> <span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.QubitPauliOperator.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="pytket.utils.Graph">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.</code><code class="sig-name descname">Graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="pytket.utils.Graph.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">c</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for visualising a circuit as a directed acyclic graph (DAG).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>c</strong> (<em>pytket.Circuit</em>) – Circuit</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.as_nx">
<code class="sig-name descname">as_nx</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.as_nx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a logical representation of the circuit as a DAG.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Representation of the DAG</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>networkx.MultiDiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.get_DAG">
<code class="sig-name descname">get_DAG</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.get_DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a visual representation of the DAG as a graphviz object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Representation of the DAG</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>graphviz.DiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.get_qubit_graph">
<code class="sig-name descname">get_qubit_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.get_qubit_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a visual representation of the qubit connectivity graph as a graphviz object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Representation of the qubit connectivity graph of the circuit</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>graphviz.Graph</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.save_DAG">
<code class="sig-name descname">save_DAG</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'pdf'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.save_DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an image of the DAG to a file.</p>
<p>The actual filename will be “&lt;name&gt;.&lt;format&gt;”. A wide range of formats is
supported. See <a class="reference external" href="https://graphviz.org/doc/info/output.html">https://graphviz.org/doc/info/output.html</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Prefix of file name</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File format, e.g. “pdf”, “png”, …</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.save_qubit_graph">
<code class="sig-name descname">save_qubit_graph</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="n">format</span><span class="o">=</span><span class="default_value">'pdf'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.save_qubit_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>Save an image of the qubit connectivity graph to a file.</p>
<p>The actual filename will be “&lt;name&gt;.&lt;format&gt;”. A wide range of formats is
supported. See <a class="reference external" href="https://graphviz.org/doc/info/output.html">https://graphviz.org/doc/info/output.html</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – Prefix of file name</p></li>
<li><p><strong>format</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a>) – File format, e.g. “pdf”, “png”, …</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.view_DAG">
<code class="sig-name descname">view_DAG</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.view_DAG" title="Permalink to this definition">¶</a></dt>
<dd><p>View the DAG.</p>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.Graph.view_qubit_graph">
<code class="sig-name descname">view_qubit_graph</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.Graph.view_qubit_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>View the qubit connectivity graph.</p>
</dd></dl>

</dd></dl>

<div class="section" id="module-pytket.utils.spam">
<span id="pytket-utils-spam"></span><h2>pytket.utils.spam<a class="headerlink" href="#module-pytket.utils.spam" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pytket.utils.spam.SpamCorrecter">
<em class="property">class </em><code class="sig-prename descclassname">pytket.utils.spam.</code><code class="sig-name descname">SpamCorrecter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qubit_subsets</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="circuit.html#pytket._tket.circuit.Node" title="pytket._tket.circuit.Node">pytket._tket.circuit.Node</a><span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter" title="Permalink to this definition">¶</a></dt>
<dd><p>A class for generating “state preparation and measurement” (SPAM) calibration
experiments for <code class="docutils literal notranslate"><span class="pre">pytket</span></code> backends, and correcting counts generated from them.</p>
<p>Supports saving calibrated state to a dictionary format, and restoring from the
dictionary.</p>
<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">qubit_subsets</span><span class="p">:</span> <span class="n">List<span class="p">[</span>List<span class="p">[</span><a class="reference internal" href="circuit.html#pytket._tket.circuit.Node" title="pytket._tket.circuit.Node">pytket._tket.circuit.Node</a><span class="p">]</span><span class="p">]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new <cite>SpamCorrecter</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>qubit_subsets</strong> (<em>List</em><em>[</em><em>List</em><em>[</em><a class="reference internal" href="circuit.html#pytket._tket.circuit.Node" title="pytket._tket.circuit.Node"><em>Node</em></a><em>]</em><em>]</em>) – A list of lists of correlated Nodes of a <cite>Device</cite>.
Qubits within the same list are assumed to only have SPAM errors correlated
with each other. Thus to allow SPAM errors between all qubits you should
provide a single list.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – There are repeats in the <cite>qubit_subsets</cite> specification.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.calculate_matrices">
<code class="sig-name descname">calculate_matrices</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts_list</span><span class="p">:</span> <span class="n">List[Dict[Tuple[int, …], int]]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.calculate_matrices" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the calibration matrices from the results of running calibration
circuits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>counts_list</strong> (<em>List</em><em>[</em><em>CountsDict</em><em>]</em>) – List of result counts. Must be in the same order as the
corresponding circuits generated by <cite>calibration_circuits</cite>.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – Calibration circuits have not been generated yet.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.calculate_sparse_mat">
<em class="property">static </em><code class="sig-name descname">calculate_sparse_mat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mat_it</span><span class="p">:</span> <span class="n">Iterable<span class="p">[</span>numpy.array<span class="p">]</span></span></em><span class="sig-paren">)</span> &#x2192; scipy.sparse.csr.csr_matrix<a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.calculate_sparse_mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert calibration matrices for subsets into a sparse Kronecker product.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mat_it</strong> (<em>Iterable</em><em>[</em><em>np.array</em><em>]</em>) – Iterable of qubit-subset calibration matrices.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Sparse tensor-product matrix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>sparse.csr_matrix</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.calibration_circuits">
<code class="sig-name descname">calibration_circuits</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; List<span class="p">[</span>pytket._tket.circuit.Circuit<span class="p">]</span><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.calibration_circuits" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate calibration circuits according to the specified correlations.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>A list of calibration circuits to be run on the machine. Results from
these circuits must be given back to this class (via the
<cite>calculate_matrices</cite> methos) in the same order.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="circuit_class.html#pytket.circuit.Circuit" title="pytket.circuit.Circuit">Circuit</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.correct_counts">
<code class="sig-name descname">correct_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], int]</span></em>, <em class="sig-param"><span class="n">res_map</span><span class="p">:</span> <span class="n">Dict<span class="p">[</span><a class="reference internal" href="circuit.html#pytket._tket.circuit.Node" title="pytket._tket.circuit.Node">pytket._tket.circuit.Node</a><span class="p">, </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.8)">int</a><span class="p">]</span></span></em>, <em class="sig-param"><span class="n">method</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)">str</a></span> <span class="o">=</span> <span class="default_value">'minimise'</span></em>, <em class="sig-param"><span class="n">options</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="default_value">{}</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], int]<a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.correct_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Correct results counts from calibrated backend according to calibration data,
using the specified method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>CountsDict</em>) – Input counts</p></li>
<li><p><strong>res_map</strong> (<em>ResultsMap</em>) – Dictionary mapping each calibrated <cite>Node</cite> of the backend to the
position in the <cite>counts</cite> state tuple corresponding to the result from that
qubit.</p></li>
<li><p><strong>method</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.8)"><em>str</em></a><em>, </em><em>optional</em>) – <p>Method to use for calculating the corrected counts.
Options are:</p>
<ul>
<li><p>”minimise” (default): use a numeric optimisation algorithm to
approximately invert the calibration matrix.</p></li>
<li><p>”bayesian”: Use an iterative Bayesian technique to converge to the
corrected counts.</p></li>
<li><p>”invert”: Invert the whole calibration matrix (costly).</p></li>
</ul>
</p></li>
<li><p><strong>options</strong> (<em>Dict</em><em>, </em><em>optional</em>) – <p>Options for the method. Possible options are:</p>
<ul>
<li><p>”tol”: Convergence tolerance (for “minimise” and “bayesian” methods).</p></li>
<li><p>”maxiter”: Number of iterations before terminating if convergence is not
reached (for “bayesian” method).</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><strong>RuntimeError</strong></a> – Calibration matrix has not been calculated, or results
map does not provide a result position for all calibrated qubits.</p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><strong>ValueError</strong></a> – Invalid method string.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Corrected counts, possibly with floating-point count values.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>CountsDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dict</span><span class="p">:</span> <span class="n">Dict</span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#pytket.utils.spam.SpamCorrecter" title="pytket.utils.spam.SpamCorrecter">pytket.utils.spam.SpamCorrecter</a><a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a <cite>SpamCorrecter</cite> instance from a dictionary in the format returned by
<cite>to_dict</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary of calibration information.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#pytket.utils.spam.SpamCorrecter" title="pytket.utils.spam.SpamCorrecter">SpamCorrecter</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pytket.utils.spam.SpamCorrecter.to_dict">
<code class="sig-name descname">to_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; Dict<a class="headerlink" href="#pytket.utils.spam.SpamCorrecter.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Get calibration information as a dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary output</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pytket.utils.spam.compress_counts">
<code class="sig-prename descclassname">pytket.utils.spam.</code><code class="sig-name descname">compress_counts</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">counts</span><span class="p">:</span> <span class="n">Dict[Tuple[int, …], float]</span></em>, <em class="sig-param"><span class="n">tol</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)">float</a></span> <span class="o">=</span> <span class="default_value">1e-06</span></em>, <em class="sig-param"><span class="n">round_to_int</span><span class="p">:</span> <span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)">bool</a></span> <span class="o">=</span> <span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; Dict[Tuple[int, …], int]<a class="headerlink" href="#pytket.utils.spam.compress_counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter counts to remove states that have a count value (which can be a floating-
point number) below a tolerance, and optionally round to an integer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>counts</strong> (<em>Dict</em><em>[</em><em>StateTuple</em><em>, </em><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>]</em>) – Input counts</p></li>
<li><p><strong>tol</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.8)"><em>float</em></a><em>, </em><em>optional</em>) – Value below which counts are pruned. Defaults to 1e-6.</p></li>
<li><p><strong>round_to_int</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.8)"><em>bool</em></a><em>, </em><em>optional</em>) – Whether to round each count to an integer. Defaults to False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Filtered counts</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>CountsDict</p>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="logging.html" class="btn btn-neutral float-right" title="pytket.logging" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="transform.html" class="btn btn-neutral float-left" title="pytket.transform" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Cambridge Quantum Computing Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>